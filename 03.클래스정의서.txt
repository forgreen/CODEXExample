문서 유형: 클래스 정의서
기능명: 데이터 분할 모듈
클래스명: SplitDataModule (식별자: B7D12-F0001-C00001) 설명:
SplitDataModule 클래스는 하나의 데이터셋을 둘로 분할하는 기능을 제공하는 모듈이다. 주로 머신러닝 파이프라인에서 훈련용 데이터셋과 테스트용 데이터셋으로 데이터를 구분하기 위해 사용된다. 이 클래스는 데이터 분할 방식을 다양하게 지원하여, 단순 행 분할(비율에 따른 무작위 분할)부터 정규식 기반 분할, 조건식(상대 표현식) 기반 분할, 그리고 추천 모델 특화 분할 등 여러 옵션을 제공한다. 사용자는 해당 모듈의 파라미터를 설정하여 원하는 방식으로 데이터 분리를 수행할 수 있다. 일부 분할 모드에서는 데이터의 무작위 추출(랜덤 분할)을 지원하여 데이터 샘플의 무작위성을 보장하며, 다른 모드들은 특정 데이터 유형이나 모델 유형에 맞춤화된 분할을 수행한다. 주요 구성 요소 및 메서드:
분할 방식 지정: splitting_mode 속성을 통해 분할 모드를 설정한다. 지원되는 모드에는 행 분할, 정규식 분할, 조건식 분할, 추천 분할이 있다. 각 모드에 따라 추가로 요구되는 설정 값들이 있다.
데이터 분할 실행: split() 메서드를 호출하여 설정된 모드와 파라미터에 따라 입력 데이터셋을 두 부분으로 분리한다. 첫 번째 출력은 기본적으로 훈련 세트로, 두 번째 출력은 테스트 세트로 간주된다.
무작위 분할 옵션: randomize 속성을 통해 무작위 분할 여부를 지정할 수 있다. randomize=True이면 데이터 행을 임의 순서로 섞은 뒤 분할하며, random_seed를 통해 난수 시드 값을 지정하여 재현 가능한 분할이 가능하다.
층화 분할 옵션: stratified 속성을 통해 계층별(층화) 분할을 수행할 수 있다. 이 경우 stratify_key로 지정된 열의 값 분포가 두 출력에 고르게 분포되도록 데이터가 분할된다. 예를 들어, 클래스 레이블의 비율이 훈련/테스트 세트에 비슷하게 유지되도록 분할할 수 있다.
입력: SplitDataModule은 입력 데이터셋을 필요로 한다. 이 데이터셋은 표 형태의 데이터로, 행(레코드)과 열(피처)을 포함한다. 분할 모드에 따라 추가 입력이 필요할 수 있다 (예: 정규식 분할 모드의 경우 대상 열과 정규 표현식, 조건식 분할 모드의 경우 대상 열과 조건식 등). 출력: 이 모듈의 출력으로 두 개의 결과 데이터셋이 생성된다. 일반적으로 첫 번째 출력 데이터셋에는 원본의 일부 행(예: 훈련 데이터)이 담기고, 두 번째 출력 데이터셋에는 나머지 행(예: 테스트 데이터)이 담긴다. 정확한 분할 비율이나 기준은 설정된 모드와 파라미터에 따르며, 분할 후에도 원본 데이터의 스키마(열 구조)는 두 출력에 그대로 유지된다. 예외 사항: 잘못된 사용이나 설정 오류 시 예외가 발생할 수 있다. 예를 들어, 분할 비율이 범위를 벗어난 경우나 입력 데이터셋이 지나치게 작은 경우 오류가 발생한다. 각 예외 상황 및 오류 코드에 대해서는 예외 정의서에 상세히 기술되어 있다. 또한, 분할 모드별로 필요한 추가 값(정규식, 조건식 등)이 제공되지 않거나 형식이 잘못된 경우 해당 상황에 맞는 예외가 발생한다.